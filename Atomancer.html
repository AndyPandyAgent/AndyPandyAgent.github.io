<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Layout</title>
    <link rel="stylesheet" href="css/styleGame1.css">

</head>
<body>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li class="dropdown">
                <a href="#" class="dropbtn">Projects</a>
                <ul class="dropdown-content">
                    <li><a href="FruityWars.html">Reberryon</a></li>
                    <li><a href="Atomancer.html">Atomancer</a></li>
                </ul>
            </li>
            <li><a href="about.html">About Me</a></li>
        </ul>
    </nav>


    <main>
        <div class="side-by-side">
            <div class="left-text-header">
                <img src="Atomancer/AtomancerLogo.png" width="500"/>
                <div class="main-video">
                    <video with="460" height="360" autoplay muted loop>
                        <source src="Atomancer/Atomancer_Vid.mov" />
                    </video>
                    <div class="center-text">
                        <h1>Concept</h1>

                    </div>
                    <div class="center-subtext">
                        <i>
                            Survive the creation of the universe as the first <br />
                            hydrogen atom called Hydro. <br />
                            Battle the endless stream of Void Creatures with <br />
                            the one goal of making it to the creation. <br />
                        </i>

                    </div>
                </div>
            </div>

            <div class="left-text-subheader" style="white-space: nowrap">
                <h1>Project Details</h1>
                <div class="side-by-side-text">
                    <div style="padding-right: 10%">
                        Plattform:<br />
                        Genre:<br />
                        Engine:<br />
                        Development time:<br />
                        Restrictions:<br />
                    </div>
                    <div>
                        PC<br />
                        Unity<br />
                        Rouge-like <br />
                        3 weeks <br />
                        Xbox Adaptive Controller<br />
                    </div>
                </div>

                <br /><br /><br />
           
                <h2>Roles and Responsibility</h2> <br />
                <h4>Technical Gameplay Design</h4>
                Rapid Prototyping, <br /> 
                Script optimizing, <br />
                Ideating features, <br />
                Implementing features
            </div>
        </div>


    </main>



    <main2>

        <div class="left-text-subheader" style="text-align: center">
            <h2>First Day Prototype</h2>
            <i>
                I made a quick game prototype to <b>get everyone on the same page</b>
            </i>
        </div>

        <div class="card-content">
            <div class="side-by-side">
                <div class="card-content-text">
                    <h3>Game Prototype</h3>
                    <sub>
                        I <b>prototyped the full game</b> on the first day including movement, <br />
                        simple enemies and two abilities to get a feel if the game was fun. <br />
                        This <b>helped the team understand the vision of the game</b> and helped me <br />
                        start prototyping other things without having to wait for programmers.
                    </sub>
                </div>
                <div class="image-row">
                    <img src="Atomancer/GP1Prototype1.gif" width="600" height="300" />
                </div>
            </div>
        </div>

        <br />

        <div class="left-text-subheader" style="text-align: center">
            <h2>Technical Gameplay Design</h2>
            <i>
                Worked on all the abilites for the game
            </i>
        </div>

        <div class="card-content" style="width:auto;">
            <div class="card-content-text" style="padding: 0; text-align: center">
                <h2>Workflow</h2>
                <br />
            </div>
            <div class="card-content-text" style="padding: 0; text-align: center">
                <i>
                    The workflow I used during this project. <br />
                    It <b>helped me make more abilites</b> during a shorter time period.
                </i>
            </div>

            <div class="image-row">
                <img src="Atomancer/Workflow.png" width="700" />
            </div>

        </div>

        <br />

        <div class="card-content">
            <div class="side-by-side">
                <div class="image-row">
                    <video width="600" height="300" autoplay muted>
                        <source src="Atomancer/vid_1.mov" />
                    </video>
                </div>
                <div class="card-content-text">
                    <h3>Abilities</h3>
                    <sub>
                        We had a goal to get <b>5 working abilities</b> in the game before the deadline. <br />
                        The goal of the abilities was to make the player <b>feel powerful</b><br />
                        and for them to compliment the constant movement.<br /> 
                        <b>I designed and scripted them.</b><br /><br />
                    </sub>
                    <button class="showTextButton" data-text-id="text1">SEE SOME SCRIPTS</button>

                </div>
            </div>
        </div>

        <div class="left-text-subheader" style="text-align: center">
            <h2>Takeaways</h2>
            <i>
                What I learned, liked and disliked
            </i>
        </div>

        <div class="card-content">
            <div class="card-content-text" style="white-space: normal">
                <ul>
                    <li>Collaborating with programmers to optimize and make my code better was super fun!</li>
                    <li>This was the first time I utilized my quick prototyping which helped the team and made me find what I like!</li>
                </ul>


            </div>
        </div>

        <div class="left-text-subheader" style="text-align: center">
            <h2>Thank you for reading!</h2>
        </div>




        <div class="displayText" id="text1" style="display: none;">
            <pre>
            
            AreaDamage Script

            private void Start()
                {
                    //_renderer = areaObject.GetComponent<Renderer>();
                    //originalColor = _renderer.material.color;
                    InvokeRepeating("DamageTick", 0.0f, timeBetweenAttacks);
                    areaObject.transform.localScale = new Vector3(1, 1, 1) * radius/3;
                    startRotation = areaObject.transform.rotation; 
                }
                private void Update()
                {
                    areaObject.transform.rotation = startRotation;
                }

                /*private void Update()
                {
                    // Constantly change color
                    timer += Time.deltaTime;
                    float lerpValue = (Mathf.Sin(timer / timeBetweenAttacks * Mathf.PI * 2) + 1) / 2; // Oscillates between 0 and 1
                    _renderer.material.color = Color.Lerp(originalColor, flashColor, lerpValue);

                    areaObject.transform.localScale = new Vector3(radius * 2, areaObject.transform.localScale.y, radius * 2);
                }*/

                private void DamageTick()
                {
                    Collider[] enemiesInRange = Physics.OverlapSphere(transform.position, radius, enemyMask);
                    foreach (Collider enemyCollider in enemiesInRange)
                    {
                        S_EnemyHealthController emc = enemyCollider.GetComponent<S_EnemyHealthController>
    ();
    if (emc != null)
    {
    emc.TakeDamage(damage);
    }
    }
    _____________________________________________________________________________________________________________________

            DamgeTrail Script

            private void Start()
            {
            isOnPlayer = gameObject.transform.root.tag == "Player";
            maxTrailLength = Mathf.FloorToInt(trailLengthTime / spawnInterval);
            trailBulletQueue = new Queue<GameObject>
                ();
                trailRenderer = GetComponent<TrailRenderer>
                    ();
                    trailWdith = trailRenderer.startWidth;

                    trailRenderer.time = trailLengthTime;
                    }

                    private void Update()
                    {
                    if (!isOnPlayer)
                    {
                    transform.localPosition = new Vector3(0f, 0f, 3 + math.sin(Time.time * 3) * 3f);
                    }

                    spawnTimer += Time.deltaTime;
                    damageTimer += Time.deltaTime;
                    if (spawnTimer >= spawnInterval)
                    {
                    SpawntrailBullet();
                    spawnTimer = 0;
                    }

                    if (damageTimer >= damageTickInterval)
                    {
                    DamageEnemies();
                    damageTimer = 0;
                    }
                    }

                    private void SpawntrailBullet()
                    {
                    Vector3 spawnPosition = transform.position;
                    GameObject newtrailBullet;
                    if (trailBulletQueue.Count < maxTrailLength)
                    {
                    newtrailBullet = Instantiate(trailColliderPrefab, spawnPosition, Quaternion.identity);
                    newtrailBullet.transform.localScale = Vector3.one * trailWdith;
                    }
                    else
                    {
                    newtrailBullet = trailBulletQueue.Dequeue();
                    newtrailBullet.transform.position = spawnPosition;
                    }

                    trailBulletQueue.Enqueue(newtrailBullet);
                    }

                    private void DamageEnemies()
                    {
                    StartCoroutine(FlashTrail());
                    foreach (GameObject trailBullet in trailBulletQueue)
                    {
                    Collider[] overlappingColliders = Physics.OverlapSphere(trailBullet.transform.position, trailWdith / 2);
                    foreach (Collider col in overlappingColliders)
                    {
                    S_EnemyHealthController enemy = col.gameObject.GetComponent<S_EnemyHealthController>
                    ();
                    if (enemy != null)
                    {
                    enemy.TakeDamage(damageAmount);
                    }
                    }
                    }
                    }


                    private IEnumerator FlashTrail()
                    {
                    Color originalColor = trailRenderer.startColor;
                    trailRenderer.startColor = flashColor;
                    trailRenderer.endColor = flashColor;

                    yield return new WaitForSeconds(flashDuration);

                    trailRenderer.endColor = originalColor;
                    trailRenderer.startColor = originalColor;
                    }
    _______________________________________________________________________________________________________________

                        KillRadomOnScreenScript

                        private void Awake()
                        {
                        CreateBoltPool(initialBoltPoolSize);
                        }

                        private void OnEnable()
                        {
                        Kill();
                        elapsedTime = 0;
                        }

                        private void OnDisable()
                        {
                        foreach (GameObject bolt in boltPool)
                        {
                        if (bolt != null)
                        bolt.SetActive(false);
                        }
                        }
                        void Update()
                        {
                        elapsedTime += Time.deltaTime;

                        if (elapsedTime >= timeBetweenKills)
                        {
                        elapsedTime = 0f;
                        Kill();
                        }
                        }

                        private void CreateBoltPool(int size)
                        {
                        for (int i = 0; i < size; i++)
                        {
                        GameObject bolt = Instantiate(boltPrefab);
                        bolt.SetActive(false);
                        boltPool.Add(bolt);
                        }
                        }

                        private GameObject GetBoltFromPool()
                        {
                        foreach (GameObject bolt in boltPool)
                        {
                        if (!bolt.activeInHierarchy)
                        {
                        return bolt;
                        }
                        }

                        GameObject newBolt = Instantiate(boltPrefab);
                        boltPool.Add(newBolt);
                        return newBolt;
                        }

                        private void Kill()
                        {
                        killableEnemies.Clear();
                        foreach (Collider enemy in Physics.OverlapSphere(transform.position, killRange, enemyLayer))
                        {
                        // Debug.Log(enemy.name);
                        killableEnemies.Add(enemy.gameObject);
                        }

                        if (killableEnemies.Count <= 0)
                        return;
                        for (int i = 0; i < numKills; i++)
                        {
                        KillRandomEnemy();
                        }
                        AudioManager.Instance.PlaySound3D("Cern-TainDeath", transform.position);
                        }

                        private void KillRandomEnemy()
                        {
                        GameObject tempEnemy = killableEnemies[Random.Range(0, killableEnemies.Count)];
                        S_EnemyHealthController tempHealthController = tempEnemy.GetComponent<S_EnemyHealthController>
                            ();
                            tempHealthController.TakeDamage(damage);
                            CreateBolt(tempEnemy.transform);
                            }

                            private void CreateBolt(Transform enemyTransform)
                            {
                            GameObject bolt = GetBoltFromPool();
                            bolt.transform.position = enemyTransform.position;
                            bolt.transform.rotation = Quaternion.identity;
                            bolt.SetActive(true);
                            StartCoroutine(DisableBoltAfterTime(bolt, boltLifetime));
                            }

                            private IEnumerator DisableBoltAfterTime(GameObject bolt, float time)
                            {
                            yield return new WaitForSeconds(time);
                            bolt.SetActive(false);
                            }




</pre>

        </div>
        <script src="javascript.js"></script>


    </main2>

</body>
</html>